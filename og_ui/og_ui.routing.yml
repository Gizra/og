# Routes for Organic groups UI.

og_ui.admin_index:
  path: '/admin/config/group'
  defaults:
    _controller: '\Drupal\system\Controller\SystemController::systemAdminMenuBlockPage'
    _title: 'Organic groups'
  requirements:
    _permission: 'administer group'

og_ui.settings:
  path: 'admin/config/group/settings'
  defaults:
    _form: '\Drupal\og_ui\Form\AdminSettingsForm'
    _title: 'OG settings'
  requirements:
    _permission: 'administer group'

og_ui.roles_permissions_overview:
  path: 'admin/config/group/{type}'
  defaults:
    _controller: '\Drupal\og_ui\Controller\OgUiController::rolesPermissionsOverviewPage'
    _title_callback: '\Drupal\og_ui\Controller\OgUiController::rolesPermissionsOverviewTitleCallback'
  requirements:
    _permission: 'administer group'
    type: '^(roles|permissions)$'

og_ui.roles_overview:
  path: 'admin/config/group/roles/{entity_type}/{bundle}'
  defaults:
    _controller: '\Drupal\og_ui\Controller\OgUiController::rolesOverviewPage'
    _title_callback: '\Drupal\og_ui\Controller\OgUiController::rolesOverviewPageTitleCallback'
  requirements:
    _permission: 'administer group'

og_ui.role_add_form:
  path: 'admin/config/group/role/{entity_type}/{bundle}/add'
  defaults:
    _controller: '\Drupal\og_ui\Controller\OgRoleController::addGroupTypeRole'
    _title_callback: '\Drupal\og_ui\Form\OgRoleForm::addRoleTitleCallback'
  requirements:
    # Todo: This should become a dedicated permission:
    # _entity_access: og_role.add
    _permission: 'administer group'

#og_ui.group_role_add_form:
#  path: 'admin/config/group/role/{entity_type}/{entity}/add'
#  defaults:
#    _controller: '\Drupal\og_ui\Controller\OgRoleController::addGroupRole'
#    _title_callback: '\Drupal\og_ui\Form\OgRoleForm::addRoleTitleCallback'
#  requirements:
#    # Todo: This should become a dedicated permission:
#    # _entity_access: og_role.add
#    _permission: 'administer group'

entity.og_role.edit_form:
  path: 'admin/config/group/role/{og_role}/edit'
  defaults:
    _entity_form: og_role.default
    _title_callback: '\Drupal\og_ui\Form\OgRoleForm::editRoleTitleCallback'
  requirements:
    # Todo: This should become a dedicated permission:
    # _entity_access: og_role.update
    _permission: 'administer group'

og_ui.permissions_overview:
  path: 'admin/config/group/permissions/{entity_type}/{bundle}'
  defaults:
    _form: '\Drupal\og_ui\Form\OgPermissionsForm'
    _title: '@todo - create title callback'
  requirements:
    _permission: 'administer group'

og_ui.permissions_edit_form:
  path: 'admin/config/group/permission/{og_role}/edit'
  defaults:
    _form: '\Drupal\og_ui\Form\OgPermissionsEditForm'
    _title_callback: '\Drupal\og_ui\Form\OgPermissionsEditForm::titleCallback'
  requirements:
    _permission: 'administer group'
